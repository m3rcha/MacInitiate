import type { SystemTweak, TweakCategory, TweakFilters, TweakCategoryId } from '@/types/tweaks'

export const TWEAK_CATEGORIES: Record<TweakCategoryId, TweakCategory> = {
    appearance: {
        id: 'appearance',
        name: 'Appearance & Display',
        icon: 'ðŸŽ¨',
        description: 'Visual settings and display preferences',
        order: 1,
    },
    input: {
        id: 'input',
        name: 'Input & Interaction',
        icon: 'âŒ¨ï¸',
        description: 'Keyboard, mouse, and touch interaction settings',
        order: 2,
    },
    security: {
        id: 'security',
        name: 'Security & Privacy',
        icon: 'ðŸ”’',
        description: 'Security settings and privacy protections',
        order: 3,
    },
    dock: {
        id: 'dock',
        name: 'Dock & Navigation',
        icon: 'ðŸš¢',
        description: 'Dock behavior and navigation preferences',
        order: 4,
    },
    finder: {
        id: 'finder',
        name: 'Finder & Files',
        icon: 'ðŸ“',
        description: 'File management and Finder preferences',
        order: 5,
    },
    safari: {
        id: 'safari',
        name: 'Safari & Web',
        icon: 'ðŸŒ',
        description: 'Safari browser settings and web preferences',
        order: 6,
    },
    terminal: {
        id: 'terminal',
        name: 'Terminal & Shell',
        icon: 'ðŸ’»',
        description: 'Terminal, shell, and command line preferences',
        order: 7,
    },
    development: {
        id: 'development',
        name: 'Developer Tools',
        icon: 'âš¡',
        description: 'Development environment and tool preferences',
        order: 8,
    },
}

export const SYSTEM_TWEAKS: SystemTweak[] = [
    // Appearance & Display
    {
        id: 'show-hidden-files',
        name: 'Show Hidden Files in Finder',
        description: 'Display files and folders starting with a dot (.) in Finder',
        category: TWEAK_CATEGORIES.appearance,
        subcategory: 'finder-visibility',
        tags: ['finder', 'files', 'hidden', 'visibility'],
        domain: 'com.apple.finder',
        key: 'AppleShowAllFiles',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.finder AppleShowAllFiles -bool ${value}`,
        requiresRestart: true,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Shows hidden system files and folders in Finder. Useful for developers and power users.',
        lastVerified: '2024-01-15',
    },
    {
        id: 'dark-mode-menubar',
        name: 'Dark Menu Bar and Dock',
        description: 'Enable dark appearance for menu bar and dock',
        category: TWEAK_CATEGORIES.appearance,
        subcategory: 'theme',
        tags: ['dark-mode', 'menu-bar', 'dock', 'appearance'],
        domain: 'NSGlobalDomain',
        key: 'AppleInterfaceStyle',
        valueType: 'string',
        defaultValue: null,
        command: (value) => value ? 'defaults write NSGlobalDomain AppleInterfaceStyle -string "Dark"' : 'defaults delete NSGlobalDomain AppleInterfaceStyle',
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.14',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Enables dark mode for the menu bar, dock, and built-in apps.',
        lastVerified: '2024-01-15',
    },
    {
        id: 'auto-hide-dock',
        name: 'Auto-hide Dock',
        description: 'Automatically hide and show the dock',
        category: TWEAK_CATEGORIES.dock,
        subcategory: 'behavior',
        tags: ['dock', 'auto-hide', 'screen-space'],
        domain: 'com.apple.dock',
        key: 'autohide',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.dock autohide -bool ${value} && killall Dock`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Hides the dock when not in use to maximize screen space.',
        lastVerified: '2024-01-15',
    },
    {
        id: 'dock-magnification',
        name: 'Dock Magnification',
        description: 'Enable dock icon magnification on hover',
        category: TWEAK_CATEGORIES.dock,
        subcategory: 'behavior',
        tags: ['dock', 'magnification', 'hover'],
        domain: 'com.apple.dock',
        key: 'magnification',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.dock magnification -bool ${value} && killall Dock`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Makes dock icons larger when you hover over them.',
        lastVerified: '2024-01-15',
    },
    {
        id: 'dock-size',
        name: 'Dock Size',
        description: 'Set dock icon size (default: 48, range: 16-128)',
        category: TWEAK_CATEGORIES.dock,
        subcategory: 'appearance',
        tags: ['dock', 'size', 'icons'],
        domain: 'com.apple.dock',
        key: 'tilesize',
        valueType: 'integer',
        defaultValue: 48,
        command: (value) => `defaults write com.apple.dock tilesize -int ${value} && killall Dock`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Adjusts the size of dock icons. Larger values make icons bigger.',
        lastVerified: '2024-01-15',
    },

    // Input & Interaction
    {
        id: 'key-repeat-rate',
        name: 'Fast Key Repeat Rate',
        description: 'Set keyboard repeat rate to faster (default: 2, fast: 1)',
        category: TWEAK_CATEGORIES.input,
        subcategory: 'keyboard',
        tags: ['keyboard', 'repeat', 'typing'],
        domain: 'NSGlobalDomain',
        key: 'KeyRepeat',
        valueType: 'integer',
        defaultValue: 2,
        command: (value) => `defaults write NSGlobalDomain KeyRepeat -int ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Controls how fast characters repeat when holding a key. Lower values are faster.',
        lastVerified: '2024-01-15',
    },
    {
        id: 'key-repeat-delay',
        name: 'Short Key Repeat Delay',
        description: 'Reduce delay before key repeat starts (default: 15, fast: 10)',
        category: TWEAK_CATEGORIES.input,
        subcategory: 'keyboard',
        tags: ['keyboard', 'delay', 'typing'],
        domain: 'NSGlobalDomain',
        key: 'InitialKeyRepeat',
        valueType: 'integer',
        defaultValue: 15,
        command: (value) => `defaults write NSGlobalDomain InitialKeyRepeat -int ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Sets the delay before key repeat begins. Lower values start repeating faster.',
        lastVerified: '2024-01-15',
    },
    {
        id: 'tap-to-click',
        name: 'Tap to Click',
        description: 'Enable tap to click on trackpad',
        category: TWEAK_CATEGORIES.input,
        subcategory: 'trackpad',
        tags: ['trackpad', 'tap', 'click'],
        domain: 'com.apple.driver.AppleBluetoothMultitouch.trackpad',
        key: 'Clicking',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write com.apple.driver.AppleBluetoothMultitouch.trackpad Clicking -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Allows tapping on the trackpad to register as a click.',
        lastVerified: '2024-01-15',
    },

    // Security & Privacy
    {
        id: 'gatekeeper-allow-anywhere',
        name: 'Allow Apps from Anywhere',
        description: 'Allow applications from any source (security risk)',
        category: TWEAK_CATEGORIES.security,
        subcategory: 'gatekeeper',
        tags: ['security', 'gatekeeper', 'apps'],
        domain: 'com.apple.LaunchServices',
        key: 'LSQuarantine',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `sudo defaults write com.apple.LaunchServices LSQuarantine -bool ${!value}`,
        requiresRestart: false,
        requiresSudo: true,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: false,
        impactLevel: 'high',
        warning: 'This reduces security by allowing apps from unidentified developers. Use with caution.',
        documentation: 'Disables Gatekeeper quarantine for downloaded applications. This is a security risk.',
        lastVerified: '2024-01-15',
    },
    {
        id: 'firewall-stealth',
        name: 'Firewall Stealth Mode',
        description: 'Enable firewall stealth mode (no response to pings)',
        category: TWEAK_CATEGORIES.security,
        subcategory: 'firewall',
        tags: ['firewall', 'network', 'stealth'],
        domain: '/Library/Preferences/com.apple.alf',
        key: 'stealthenabled',
        valueType: 'integer',
        defaultValue: 0,
        command: (value) => `sudo defaults write /Library/Preferences/com.apple.alf stealthenabled -int ${value ? 1 : 0}`,
        requiresRestart: false,
        requiresSudo: true,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Enables firewall stealth mode, making your Mac invisible to ping probes.',
        lastVerified: '2024-01-15',
    },

    // Finder & Files
    {
        id: 'finder-path-bar',
        name: 'Show Path Bar in Finder',
        description: 'Display the full path at the bottom of Finder windows',
        category: TWEAK_CATEGORIES.finder,
        subcategory: 'interface',
        tags: ['finder', 'path', 'navigation'],
        domain: 'com.apple.finder',
        key: 'ShowPathbar',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.finder ShowPathbar -bool ${value} && killall Finder`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.5',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Shows the hierarchical path at the bottom of Finder windows.',
        lastVerified: '2024-01-15',
    },
    {
        id: 'finder-status-bar',
        name: 'Show Status Bar in Finder',
        description: 'Display the status bar with file information',
        category: TWEAK_CATEGORIES.finder,
        subcategory: 'interface',
        tags: ['finder', 'status', 'information'],
        domain: 'com.apple.finder',
        key: 'ShowStatusBar',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.finder ShowStatusBar -bool ${value} && killall Finder`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Shows the status bar at the bottom of Finder windows with file count and available space.',
        lastVerified: '2024-01-15',
    },
    {
        id: 'default-save-location',
        name: 'Default Save Location',
        description: 'Set default save location to iCloud Drive',
        category: TWEAK_CATEGORIES.finder,
        subcategory: 'defaults',
        tags: ['finder', 'save', 'icloud'],
        domain: 'NSGlobalDomain',
        key: 'NSDocumentSaveNewDocumentsToCloud',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write NSGlobalDomain NSDocumentSaveNewDocumentsToCloud -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.12',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Sets whether new documents are saved to iCloud Drive by default.',
        lastVerified: '2024-01-15',
    },

    // Safari & Web
    {
        id: 'safari-developer-menu',
        name: 'Enable Safari Developer Menu',
        description: 'Show Develop menu in Safari for web development',
        category: TWEAK_CATEGORIES.safari,
        subcategory: 'development',
        tags: ['safari', 'developer', 'web'],
        domain: 'com.apple.Safari',
        key: 'IncludeDevelopMenu',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.Safari IncludeDevelopMenu -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Enables the Develop menu in Safari with web developer tools.',
        lastVerified: '2024-01-15',
    },
    {
        id: 'safari-debug-menu',
        name: 'Enable Safari Debug Menu',
        description: 'Show Debug menu in Safari for advanced options',
        category: TWEAK_CATEGORIES.safari,
        subcategory: 'development',
        tags: ['safari', 'debug', 'advanced'],
        domain: 'com.apple.Safari',
        key: 'IncludeInternalDebugMenu',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.Safari IncludeInternalDebugMenu -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Enables the internal Debug menu in Safari with additional debugging options.',
        lastVerified: '2024-01-15',
    },

    // Terminal & Shell
    {
        id: 'default-shell-zsh',
        name: 'Set Zsh as Default Shell',
        description: 'Change default shell to Zsh (modern shell)',
        category: TWEAK_CATEGORIES.terminal,
        subcategory: 'shell',
        tags: ['shell', 'zsh', 'terminal'],
        domain: '',
        key: '',
        valueType: 'string',
        defaultValue: '/bin/bash',
        command: () => 'chsh -s /bin/zsh',
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.15',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Sets Zsh as the default shell for the current user. Zsh is the modern default shell in macOS.',
        lastVerified: '2024-01-15',
    },
    {
        id: 'terminal-focus-follows-mouse',
        name: 'Terminal Focus Follows Mouse',
        description: 'Terminal window follows mouse focus',
        category: TWEAK_CATEGORIES.terminal,
        subcategory: 'behavior',
        tags: ['terminal', 'focus', 'mouse'],
        domain: 'com.apple.Terminal',
        key: 'FocusFollowsMouse',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.Terminal FocusFollowsMouse -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Makes terminal windows automatically gain focus when you hover over them.',
        lastVerified: '2024-01-15',
    },

    // Developer Tools
    {
        id: 'show-all-extensions',
        name: 'Show All File Extensions',
        description: 'Display file extensions for all files',
        category: TWEAK_CATEGORIES.development,
        subcategory: 'files',
        tags: ['files', 'extensions', 'development'],
        domain: 'NSGlobalDomain',
        key: 'AppleShowAllExtensions',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write NSGlobalDomain AppleShowAllExtensions -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Shows file extensions for all files in Finder and dialogs.',
        lastVerified: '2024-01-15',
    },
    {
        id: 'save-panel-expanded',
        name: 'Expanded Save Panels',
        description: 'Always show expanded save dialogs',
        category: TWEAK_CATEGORIES.finder,
        subcategory: 'ui',
        tags: ['save', 'dialogs', 'expanded'],
        domain: 'NSGlobalDomain',
        key: 'NSNavPanelExpandedStateForSaveMode',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write NSGlobalDomain NSNavPanelExpandedStateForSaveMode -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Makes save dialogs always show the expanded view with full file browser.',
        lastVerified: '2024-01-15',
    },
    {
        id: 'disable-natural-scrolling',
        name: 'Disable Natural Scrolling',
        description: 'Use traditional scrolling direction',
        category: TWEAK_CATEGORIES.input,
        subcategory: 'trackpad',
        tags: ['scrolling', 'trackpad', 'mouse'],
        domain: 'NSGlobalDomain',
        key: 'com.apple.swipescrolldirection',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write NSGlobalDomain com.apple.swipescrolldirection -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.7',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Disables the default "natural" scrolling direction where content moves in the same direction as your fingers.',
        lastVerified: '2024-01-20',
    },
    {
        id: 'enable-safari-developer-menu',
        name: 'Enable Safari Developer Menu',
        description: 'Show Develop menu in Safari',
        category: TWEAK_CATEGORIES.safari,
        subcategory: 'developer',
        tags: ['safari', 'developer', 'debug'],
        domain: 'com.apple.Safari',
        key: 'IncludeDevelopMenu',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.Safari IncludeDevelopMenu -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Enables the Develop menu in Safari for web development and debugging tools.',
        lastVerified: '2024-01-20',
    },
    {
        id: 'increase-dock-size',
        name: 'Increase Dock Size',
        description: 'Make Dock icons larger and more visible',
        category: TWEAK_CATEGORIES.dock,
        subcategory: 'appearance',
        tags: ['dock', 'size', 'accessibility'],
        domain: 'com.apple.dock',
        key: 'tilesize',
        valueType: 'integer',
        defaultValue: 48,
        command: (value) => `defaults write com.apple.dock tilesize -int ${value ? 64 : 48} && killall Dock`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Increases the size of Dock icons from default 48px to 64px for better visibility.',
        lastVerified: '2024-01-20',
    },
    {
        id: 'disable-dashboard',
        name: 'Disable Dashboard',
        description: 'Turn off Dashboard feature',
        category: TWEAK_CATEGORIES.appearance,
        subcategory: 'system',
        tags: ['dashboard', 'performance', 'legacy'],
        domain: 'com.apple.dashboard',
        key: 'enabled-state',
        valueType: 'integer',
        defaultValue: 1,
        command: (value) => `defaults write com.apple.dashboard enabled-state -int ${value ? 0 : 1}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.4',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Disables the Dashboard feature to save system resources and reduce clutter.',
        lastVerified: '2024-01-20',
    },
    {
        id: 'enable-path-bar',
        name: 'Enable Path Bar in Finder',
        description: 'Show full file path at bottom of Finder windows',
        category: TWEAK_CATEGORIES.finder,
        subcategory: 'ui',
        tags: ['finder', 'path', 'navigation'],
        domain: 'com.apple.finder',
        key: 'ShowPathbar',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.finder ShowPathbar -bool ${value} && killall Finder`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.5',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Shows the full file path at the bottom of Finder windows for better navigation.',
        lastVerified: '2024-01-20',
    },
    {
        id: 'disable-guest-user',
        name: 'Disable Guest User',
        description: 'Turn off guest user account for security',
        category: TWEAK_CATEGORIES.security,
        subcategory: 'accounts',
        tags: ['security', 'privacy', 'accounts'],
        domain: 'com.apple.loginwindow',
        key: 'GuestEnabled',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `sudo defaults write /Library/Preferences/com.apple.loginwindow GuestEnabled -bool ${value}`,
        requiresRestart: false,
        requiresSudo: true,
        minMacOSVersion: '10.5',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Disables the guest user account to improve security and privacy.',
        lastVerified: '2024-01-20',
    },
    {
        id: 'enable-zsh-shell',
        name: 'Enable Zsh as Default Shell',
        description: 'Set Zsh as the default terminal shell',
        category: TWEAK_CATEGORIES.terminal,
        subcategory: 'shell',
        tags: ['terminal', 'shell', 'zsh', 'development'],
        domain: 'user',
        key: 'shell',
        valueType: 'string',
        defaultValue: '/bin/bash',
        command: (value) => `chsh -s /bin/zsh`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.15',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Changes the default shell from Bash to Zsh for better features and customization.',
        lastVerified: '2024-01-20',
    },
    // Additional System Preferences Tweaks
    {
        id: 'show-library-folder',
        name: 'Show Library Folder in Finder',
        description: 'Make the user Library folder visible',
        category: TWEAK_CATEGORIES.finder,
        subcategory: 'ui',
        tags: ['finder', 'library', 'hidden', 'files'],
        domain: 'com.apple.finder',
        key: 'ShowLibraryFolder',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `chflags nohidden ~/Library && defaults write com.apple.finder ShowLibraryFolder -bool ${value} && killall Finder`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.7',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Makes the user Library folder visible in Finder sidebar and home directory.',
        lastVerified: '2024-01-21',
    },
    {
        id: 'show-hard-drives-on-desktop',
        name: 'Show Hard Drives on Desktop',
        description: 'Display external and internal drives on desktop',
        category: TWEAK_CATEGORIES.finder,
        subcategory: 'desktop',
        tags: ['finder', 'desktop', 'drives', 'storage'],
        domain: 'com.apple.finder',
        key: 'ShowHardDrivesOnDesktop',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.finder ShowHardDrivesOnDesktop -bool ${value} && killall Finder`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Shows internal and external hard drives on the desktop for quick access.',
        lastVerified: '2024-01-21',
    },
    {
        id: 'show-external-drives-on-desktop',
        name: 'Show External Drives on Desktop',
        description: 'Display external drives on desktop',
        category: TWEAK_CATEGORIES.finder,
        subcategory: 'desktop',
        tags: ['finder', 'desktop', 'external', 'drives'],
        domain: 'com.apple.finder',
        key: 'ShowExternalHardDrivesOnDesktop',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write com.apple.finder ShowExternalHardDrivesOnDesktop -bool ${value} && killall Finder`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Controls whether external drives appear on the desktop when connected.',
        lastVerified: '2024-01-21',
    },
    {
        id: 'show-removable-media-on-desktop',
        name: 'Show Removable Media on Desktop',
        description: 'Display CDs, DVDs, and iPods on desktop',
        category: TWEAK_CATEGORIES.finder,
        subcategory: 'desktop',
        tags: ['finder', 'desktop', 'media', 'removable'],
        domain: 'com.apple.finder',
        key: 'ShowRemovableMediaOnDesktop',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write com.apple.finder ShowRemovableMediaOnDesktop -bool ${value} && killall Finder`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Controls whether CDs, DVDs, and iPods appear on the desktop when inserted.',
        lastVerified: '2024-01-21',
    },
    {
        id: 'show-mounted-servers-on-desktop',
        name: 'Show Mounted Servers on Desktop',
        description: 'Display network servers on desktop',
        category: TWEAK_CATEGORIES.finder,
        subcategory: 'desktop',
        tags: ['finder', 'desktop', 'network', 'servers'],
        domain: 'com.apple.finder',
        key: 'ShowMountedServersOnDesktop',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.finder ShowMountedServersOnDesktop -bool ${value} && killall Finder`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Shows mounted network servers on the desktop for easy access.',
        lastVerified: '2024-01-21',
    },
    {
        id: 'finder-show-status-bar',
        name: 'Show Status Bar in Finder',
        description: 'Display status bar with item count and disk space',
        category: TWEAK_CATEGORIES.finder,
        subcategory: 'ui',
        tags: ['finder', 'status-bar', 'ui', 'information'],
        domain: 'com.apple.finder',
        key: 'ShowStatusBar',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.finder ShowStatusBar -bool ${value} && killall Finder`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Shows the status bar at the bottom of Finder windows with item count and available disk space.',
        lastVerified: '2024-01-22',
    },
    {
        id: 'finder-show-tab-bar',
        name: 'Show Tab Bar in Finder',
        description: 'Display tab bar for multiple Finder windows',
        category: TWEAK_CATEGORIES.finder,
        subcategory: 'ui',
        tags: ['finder', 'tabs', 'ui', 'navigation'],
        domain: 'com.apple.finder',
        key: 'ShowTabView',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write com.apple.finder ShowTabView -bool ${value} && killall Finder`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.9',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Controls the tab bar in Finder for managing multiple windows in tabs.',
        lastVerified: '2024-01-22',
    },
    {
        id: 'finder-default-search-scope',
        name: 'Set Finder Default Search Scope',
        description: 'Search current folder by default instead of This Mac',
        category: TWEAK_CATEGORIES.finder,
        subcategory: 'search',
        tags: ['finder', 'search', 'scope', 'productivity'],
        domain: 'com.apple.finder',
        key: 'FXDefaultSearchScope',
        valueType: 'string',
        defaultValue: 'SCev',
        command: (value) => `defaults write com.apple.finder FXDefaultSearchScope -string "SCcf"`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.6',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Changes Finder search to search current folder by default instead of entire Mac.',
        lastVerified: '2024-01-22',
    },
    {
        id: 'disable-sudden-motion-sensor',
        name: 'Disable Sudden Motion Sensor',
        description: 'Turn off sudden motion sensor for SSD systems',
        category: TWEAK_CATEGORIES.security,
        subcategory: 'hardware',
        tags: ['security', 'hardware', 'ssd', 'performance'],
        domain: 'com.apple.PowerManagement',
        key: 'SPMSuddenMotionSensorEnabled',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `sudo pmset -a sms ${value ? 'on' : 'off'}`,
        requiresRestart: false,
        requiresSudo: true,
        minMacOSVersion: '10.4',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Disables sudden motion sensor which is unnecessary for SSD systems and can improve performance.',
        lastVerified: '2024-01-23',
    },
    {
        id: 'disable-hibernation',
        name: 'Disable Hibernation Mode',
        description: 'Turn off hibernation to save disk space',
        category: TWEAK_CATEGORIES.appearance,
        subcategory: 'power',
        tags: ['power', 'hibernation', 'performance', 'disk-space'],
        domain: 'com.apple.PowerManagement',
        key: 'hibernatemode',
        valueType: 'integer',
        defaultValue: 3,
        command: (value) => `sudo pmset -a hibernatemode 0 && rm -f /var/vm/sleepimage`,
        requiresRestart: false,
        requiresSudo: true,
        minMacOSVersion: '10.4',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Disables hibernation mode to save disk space (hibernation file can be several GB).',
        lastVerified: '2024-01-23',
    },
    {
        id: 'enable-developer-mode',
        name: 'Enable Developer Mode',
        description: 'Enable advanced developer features and tools',
        category: TWEAK_CATEGORIES.development,
        subcategory: 'xcode',
        tags: ['development', 'xcode', 'developer', 'tools'],
        domain: 'com.apple.dt.Xcode',
        key: 'DVTEnableCoreDevice',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `sudo DevToolsSecurity -enable && defaults write com.apple.dt.Xcode DVTEnableCoreDevice -bool ${value}`,
        requiresRestart: false,
        requiresSudo: true,
        minMacOSVersion: '10.8',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Enables developer mode for advanced Xcode features and debugging capabilities.',
        lastVerified: '2024-01-23',
    },
    {
        id: 'disable-auto-correct',
        name: 'Disable Auto-Correct System-wide',
        description: 'Turn off automatic text correction',
        category: TWEAK_CATEGORIES.input,
        subcategory: 'text',
        tags: ['input', 'text', 'auto-correct', 'typing'],
        domain: 'NSGlobalDomain',
        key: 'NSAutomaticSpellingCorrectionEnabled',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write NSGlobalDomain NSAutomaticSpellingCorrectionEnabled -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.7',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Disables automatic text correction across all applications.',
        lastVerified: '2024-01-24',
    },
    {
        id: 'disable-auto-capitalization',
        name: 'Disable Auto-Capitalization',
        description: 'Turn off automatic capitalization',
        category: TWEAK_CATEGORIES.input,
        subcategory: 'text',
        tags: ['input', 'text', 'capitalization', 'typing'],
        domain: 'NSGlobalDomain',
        key: 'NSAutomaticCapitalizationEnabled',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write NSGlobalDomain NSAutomaticCapitalizationEnabled -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.9',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Disables automatic capitalization at the beginning of sentences.',
        lastVerified: '2024-01-24',
    },
    {
        id: 'disable-smart-dashes',
        name: 'Disable Smart Dashes',
        description: 'Turn off automatic dash substitution',
        category: TWEAK_CATEGORIES.input,
        subcategory: 'text',
        tags: ['input', 'text', 'dashes', 'typing'],
        domain: 'NSGlobalDomain',
        key: 'NSAutomaticDashSubstitutionEnabled',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write NSGlobalDomain NSAutomaticDashSubstitutionEnabled -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.9',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Disables automatic conversion of double hyphens to em dashes.',
        lastVerified: '2024-01-24',
    },
    {
        id: 'disable-smart-quotes',
        name: 'Disable Smart Quotes',
        description: 'Turn off automatic quote substitution',
        category: TWEAK_CATEGORIES.input,
        subcategory: 'text',
        tags: ['input', 'text', 'quotes', 'typing'],
        domain: 'NSGlobalDomain',
        key: 'NSAutomaticQuoteSubstitutionEnabled',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write NSGlobalDomain NSAutomaticQuoteSubstitutionEnabled -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.9',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Disables automatic conversion of straight quotes to curly quotes.',
        lastVerified: '2024-01-24',
    },
    {
        id: 'enable-key-repeat',
        name: 'Enable Key Repeat',
        description: 'Enable key repeat when holding keys',
        category: TWEAK_CATEGORIES.input,
        subcategory: 'keyboard',
        tags: ['input', 'keyboard', 'repeat', 'accessibility'],
        domain: 'NSGlobalDomain',
        key: 'ApplePressAndHoldEnabled',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write NSGlobalDomain ApplePressAndHoldEnabled -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.12',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Enables key repeat when holding down keys instead of showing character accent menu.',
        lastVerified: '2024-01-25',
    },
    {
        id: 'set-key-repeat-rate',
        name: 'Set Key Repeat Rate',
        description: 'Make key repeat faster for typing',
        category: TWEAK_CATEGORIES.input,
        subcategory: 'keyboard',
        tags: ['input', 'keyboard', 'repeat', 'speed'],
        domain: 'NSGlobalDomain',
        key: 'KeyRepeat',
        valueType: 'integer',
        defaultValue: 120,
        command: (value) => `defaults write NSGlobalDomain KeyRepeat -int 2`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Sets key repeat rate to faster (2 instead of default 120 milliseconds).',
        lastVerified: '2024-01-25',
    },
    {
        id: 'set-key-repeat-delay',
        name: 'Set Key Repeat Delay',
        description: 'Reduce delay before key repeat starts',
        category: TWEAK_CATEGORIES.input,
        subcategory: 'keyboard',
        tags: ['input', 'keyboard', 'delay', 'responsiveness'],
        domain: 'NSGlobalDomain',
        key: 'InitialKeyRepeat',
        valueType: 'integer',
        defaultValue: 225,
        command: (value) => `defaults write NSGlobalDomain InitialKeyRepeat -int 15`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Reduces delay before key repeat starts (15ms instead of default 225ms).',
        lastVerified: '2024-01-25',
    },
    {
        id: 'disable-auto-arrange-icons',
        name: 'Disable Auto Arrange Icons',
        description: 'Allow free positioning of desktop icons',
        category: TWEAK_CATEGORIES.finder,
        subcategory: 'desktop',
        tags: ['finder', 'desktop', 'icons', 'layout'],
        domain: 'com.apple.finder',
        key: 'FK_StandardViewOptions',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write com.apple.finder FK_StandardViewOptions -dict-add IconViewSettings -dict-add arrangeBy -string none && killall Finder`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.6',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Disables automatic arrangement of desktop icons, allowing free positioning.',
        lastVerified: '2024-01-26',
    },
    {
        id: 'show-all-filename-extensions',
        name: 'Show All Filename Extensions',
        description: 'Always show file extensions in Finder',
        category: TWEAK_CATEGORIES.finder,
        subcategory: 'files',
        tags: ['finder', 'files', 'extensions', 'visibility'],
        domain: 'NSGlobalDomain',
        key: 'AppleShowAllExtensions',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write NSGlobalDomain AppleShowAllExtensions -bool ${value} && killall Finder`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Shows file extensions for all files in Finder and save dialogs.',
        lastVerified: '2024-01-26',
    },
    {
        id: 'disable-window-animations',
        name: 'Disable Window Animations',
        description: 'Speed up window opening and closing',
        category: TWEAK_CATEGORIES.appearance,
        subcategory: 'animations',
        tags: ['appearance', 'animations', 'performance', 'speed'],
        domain: 'NSGlobalDomain',
        key: 'NSAutomaticWindowAnimationsEnabled',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write NSGlobalDomain NSAutomaticWindowAnimationsEnabled -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.4',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Disables window opening and closing animations for faster UI response.',
        lastVerified: '2024-01-27',
    },
    {
        id: 'disable-launchpad-animation',
        name: 'Disable Launchpad Animations',
        description: 'Speed up Launchpad app launching',
        category: TWEAK_CATEGORIES.appearance,
        subcategory: 'animations',
        tags: ['appearance', 'launchpad', 'animations', 'performance'],
        domain: 'com.apple.dock',
        key: 'launchanim',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write com.apple.dock launchanim -bool ${value} && killall Dock`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.7',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Disables Launchpad animation when opening apps for faster response.',
        lastVerified: '2024-01-27',
    },
    {
        id: 'set-dock-orientation',
        name: 'Set Dock Orientation to Left',
        description: 'Move dock to left side of screen',
        category: TWEAK_CATEGORIES.dock,
        subcategory: 'position',
        tags: ['dock', 'position', 'layout', 'productivity'],
        domain: 'com.apple.dock',
        key: 'orientation',
        valueType: 'string',
        defaultValue: 'bottom',
        command: (value) => `defaults write com.apple.dock orientation -string left && killall Dock`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Moves the dock from bottom to left side of screen for better vertical space usage.',
        lastVerified: '2024-01-28',
    },
    {
        id: 'enable-dock-magnification',
        name: 'Enable Dock Magnification',
        description: 'Make dock icons larger when hovered',
        category: TWEAK_CATEGORIES.dock,
        subcategory: 'appearance',
        tags: ['dock', 'magnification', 'appearance', 'accessibility'],
        domain: 'com.apple.dock',
        key: 'magnification',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.dock magnification -bool ${value} && killall Dock`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Enables dock icon magnification when hovering the cursor over the dock.',
        lastVerified: '2024-01-28',
    },
    {
        id: 'set-dock-magnification-size',
        name: 'Set Dock Magnification Size',
        description: 'Control how large dock icons get when magnified',
        category: TWEAK_CATEGORIES.dock,
        subcategory: 'appearance',
        tags: ['dock', 'magnification', 'size', 'appearance'],
        domain: 'com.apple.dock',
        key: 'largesize',
        valueType: 'integer',
        defaultValue: 128,
        command: (value) => `defaults write com.apple.dock largesize -int 96 && killall Dock`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Sets the maximum size for magnified dock icons (96px instead of default 128px).',
        lastVerified: '2024-01-28',
    },
    {
        id: 'disable-dock-icon-bounce',
        name: 'Disable Dock Icon Bounce',
        description: 'Stop dock icons from bouncing for attention',
        category: TWEAK_CATEGORIES.dock,
        subcategory: 'behavior',
        tags: ['dock', 'bounce', 'distraction', 'productivity'],
        domain: 'com.apple.dock',
        key: 'no-bouncing',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.dock no-bouncing -bool ${value} && killall Dock`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.5',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Disables the bouncing animation of dock icons when applications need attention.',
        lastVerified: '2024-01-29',
    },
    {
        id: 'enable-safari-debug-menu',
        name: 'Enable Safari Debug Menu',
        description: 'Show Debug menu in Safari for web development',
        category: TWEAK_CATEGORIES.safari,
        subcategory: 'developer',
        tags: ['safari', 'debug', 'development', 'web'],
        domain: 'com.apple.Safari',
        key: 'IncludeInternalDebugMenu',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.Safari IncludeInternalDebugMenu -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Enables the internal Debug menu in Safari for advanced web development features.',
        lastVerified: '2024-01-29',
    },
    {
        id: 'disable-safari-preload-top-sites',
        name: 'Disable Safari Top Sites Preload',
        description: 'Stop Safari from preloading top sites for privacy',
        category: TWEAK_CATEGORIES.safari,
        subcategory: 'privacy',
        tags: ['safari', 'privacy', 'preload', 'performance'],
        domain: 'com.apple.Safari',
        key: 'PreloadTopSites',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write com.apple.Safari PreloadTopSites -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.9',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Disables preloading of top sites in Safari for better privacy and reduced network usage.',
        lastVerified: '2024-01-30',
    },
    {
        id: 'enable-safari-show-full-url',
        name: 'Show Full URL in Safari',
        description: 'Always show complete URL in Safari address bar',
        category: TWEAK_CATEGORIES.safari,
        subcategory: 'ui',
        tags: ['safari', 'url', 'security', 'ui'],
        domain: 'com.apple.Safari',
        key: 'ShowFullURLInSmartSearchField',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.Safari ShowFullURLInSmartSearchField -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.11',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Always shows the complete URL in Safari address bar for better security awareness.',
        lastVerified: '2024-01-30',
    },
    {
        id: 'disable-safari-safe-search',
        name: 'Disable Safari Safe Search',
        description: 'Turn off Safari safe search filtering',
        category: TWEAK_CATEGORIES.safari,
        subcategory: 'search',
        tags: ['safari', 'search', 'filtering', 'privacy'],
        domain: 'com.apple.Safari',
        key: 'SafeSearch',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write com.apple.Safari SafeSearch -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.10',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Disables Safari safe search filtering for unrestricted search results.',
        lastVerified: '2024-01-31',
    },
    {
        id: 'enable-terminal-focus-follows-mouse',
        name: 'Enable Terminal Focus Follows Mouse',
        description: 'Terminal windows follow mouse focus automatically',
        category: TWEAK_CATEGORIES.terminal,
        subcategory: 'behavior',
        tags: ['terminal', 'focus', 'mouse', 'productivity'],
        domain: 'com.apple.Terminal',
        key: 'FocusFollowsMouse',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.Terminal FocusFollowsMouse -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.6',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Enables terminal windows to automatically follow mouse focus for better workflow.',
        lastVerified: '2024-01-31',
    },
    {
        id: 'set-terminal-default-shell',
        name: 'Set Terminal Default Shell',
        description: 'Change default shell for Terminal app',
        category: TWEAK_CATEGORIES.terminal,
        subcategory: 'shell',
        tags: ['terminal', 'shell', 'zsh', 'bash'],
        domain: 'com.apple.Terminal',
        key: 'Shell',
        valueType: 'string',
        defaultValue: '/bin/bash',
        command: (value) => `defaults write com.apple.Terminal Shell -string /bin/zsh`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Sets the default shell for Terminal app to Zsh instead of Bash.',
        lastVerified: '2024-02-01',
    },
    {
        id: 'disable-spotlight-web-results',
        name: 'Disable Spotlight Web Results',
        description: 'Stop Spotlight from showing web search results',
        category: TWEAK_CATEGORIES.appearance,
        subcategory: 'search',
        tags: ['spotlight', 'search', 'web', 'privacy'],
        domain: 'com.apple.spotlight',
        key: 'orderedItems',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `sudo chmod 600 /System/Library/CoreServices/Search.bundle/Contents/MacOS/Search && killall Spotlight`,
        requiresRestart: false,
        requiresSudo: true,
        minMacOSVersion: '10.9',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Disables web search results in Spotlight for better privacy and local-only search.',
        lastVerified: '2024-02-01',
    },
    {
        id: 'disable-spotlight-suggestions',
        name: 'Disable Spotlight Suggestions',
        description: 'Turn off Spotlight suggestions and lookups',
        category: TWEAK_CATEGORIES.appearance,
        subcategory: 'search',
        tags: ['spotlight', 'suggestions', 'privacy', 'network'],
        domain: 'NSGlobalDomain',
        key: 'NSAutomaticSpellingCorrectionEnabled',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write com.apple.lookup.shared LookupSuggestionsEnabled -bool false`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.10',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Disables Spotlight suggestions and lookups to reduce network usage and improve privacy.',
        lastVerified: '2024-02-02',
    },
    {
        id: 'enable-audio-midi-setup',
        name: 'Enable Audio MIDI Setup in Utilities',
        description: 'Show Audio MIDI Setup in Applications > Utilities',
        category: TWEAK_CATEGORIES.appearance,
        subcategory: 'system',
        tags: ['audio', 'midi', 'utilities', 'development'],
        domain: 'com.apple.audio',
        key: 'ShowMIDIInUtilities',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.audio ShowMIDIInUtilities -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.8',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Makes Audio MIDI Setup visible in Applications > Utilities folder.',
        lastVerified: '2024-02-02',
    },
    {
        id: 'disable-quarantine-warning',
        name: 'Disable Quarantine Warning',
        description: 'Turn off "Are you sure?" warning for downloaded apps',
        category: TWEAK_CATEGORIES.security,
        subcategory: 'warnings',
        tags: ['security', 'quarantine', 'warnings', 'productivity'],
        domain: 'com.apple.LaunchServices',
        key: 'LSQuarantine',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write com.apple.LaunchServices LSQuarantine -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.6',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Disables the quarantine warning when opening downloaded applications for the first time.',
        lastVerified: '2024-02-03',
    },
    {
        id: 'enable-filevault',
        name: 'Enable FileVault Encryption',
        description: 'Turn on FileVault full disk encryption',
        category: TWEAK_CATEGORIES.security,
        subcategory: 'encryption',
        tags: ['security', 'encryption', 'filevault', 'privacy'],
        domain: 'com.apple.security',
        key: 'FileVault',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `sudo fdesetup enable -user $(whoami)`,
        requiresRestart: true,
        requiresSudo: true,
        minMacOSVersion: '10.7',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'high',
        documentation: 'Enables FileVault full disk encryption for maximum data security. Requires restart.',
        lastVerified: '2024-02-03',
    },
    {
        id: 'disable-firewall-stealth-mode',
        name: 'Disable Firewall Stealth Mode',
        description: 'Make computer respond to ping requests',
        category: TWEAK_CATEGORIES.security,
        subcategory: 'firewall',
        tags: ['security', 'firewall', 'network', 'stealth'],
        domain: 'com.apple.alf',
        key: 'stealthenabled',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `sudo defaults write /Library/Preferences/com.apple.alf stealthenabled -bool ${value}`,
        requiresRestart: false,
        requiresSudo: true,
        minMacOSVersion: '10.6',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Disables firewall stealth mode to allow ping responses for network diagnostics.',
        lastVerified: '2024-02-04',
    },
    {
        id: 'enable-firewall-logging',
        name: 'Enable Firewall Logging',
        description: 'Log all firewall activity for monitoring',
        category: TWEAK_CATEGORIES.security,
        subcategory: 'firewall',
        tags: ['security', 'firewall', 'logging', 'monitoring'],
        domain: 'com.apple.alf',
        key: 'loggingenabled',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `sudo defaults write /Library/Preferences/com.apple.alf loggingenabled -bool ${value}`,
        requiresRestart: false,
        requiresSudo: true,
        minMacOSVersion: '10.6',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Enables logging of firewall activity for security monitoring and troubleshooting.',
        lastVerified: '2024-02-04',
    },
    {
        id: 'disable-auto-run-safe-files',
        name: 'Disable Auto Run Safe Files',
        description: 'Prevent automatic opening of downloaded safe files',
        category: TWEAK_CATEGORIES.security,
        subcategory: 'downloads',
        tags: ['security', 'downloads', 'auto-run', 'privacy'],
        domain: 'com.apple.Safari',
        key: 'AutoOpenSafeDownloads',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write com.apple.Safari AutoOpenSafeDownloads -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Disables automatic opening of downloaded files deemed "safe" by Safari.',
        lastVerified: '2024-02-05',
    },
    {
        id: 'enable-safari-do-not-track',
        name: 'Enable Safari Do Not Track',
        description: 'Send Do Not Track header in Safari requests',
        category: TWEAK_CATEGORIES.safari,
        subcategory: 'privacy',
        tags: ['safari', 'privacy', 'tracking', 'web'],
        domain: 'com.apple.Safari',
        key: 'SendDoNotTrackHTTPHeader',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.Safari SendDoNotTrackHTTPHeader -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.11',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Enables sending Do Not Track header in Safari HTTP requests for better privacy.',
        lastVerified: '2024-02-05',
    },
    {
        id: 'disable-safari-auto-fill',
        name: 'Disable Safari Auto Fill',
        description: 'Turn off form auto-fill in Safari',
        category: TWEAK_CATEGORIES.safari,
        subcategory: 'privacy',
        tags: ['safari', 'privacy', 'auto-fill', 'forms'],
        domain: 'com.apple.Safari',
        key: 'AutoFillFromAddressBook',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write com.apple.Safari AutoFillFromAddressBook -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Disables Safari auto-fill from Contacts for better privacy.',
        lastVerified: '2024-02-06',
    },
    {
        id: 'enable-safari-show-status-bar',
        name: 'Show Safari Status Bar',
        description: 'Display status bar at bottom of Safari window',
        category: TWEAK_CATEGORIES.safari,
        subcategory: 'ui',
        tags: ['safari', 'status-bar', 'ui', 'information'],
        domain: 'com.apple.Safari',
        key: 'ShowStatusBar',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.Safari ShowStatusBar -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Shows the status bar at the bottom of Safari windows with link destinations.',
        lastVerified: '2024-02-06',
    },
    {
        id: 'disable-safari-auto-open-downloads',
        name: 'Disable Safari Auto Open Downloads',
        description: 'Prevent Safari from auto-opening safe downloads',
        category: TWEAK_CATEGORIES.safari,
        subcategory: 'downloads',
        tags: ['safari', 'downloads', 'auto-open', 'security'],
        domain: 'com.apple.Safari',
        key: 'AutoOpenSafeDownloads',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write com.apple.Safari AutoOpenSafeDownloads -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Prevents Safari from automatically opening downloaded files for better security.',
        lastVerified: '2024-02-07',
    },
    {
        id: 'set-safari-homepage',
        name: 'Set Safari Homepage',
        description: 'Change Safari default homepage',
        category: TWEAK_CATEGORIES.safari,
        subcategory: 'general',
        tags: ['safari', 'homepage', 'startup', 'web'],
        domain: 'com.apple.Safari',
        key: 'HomePage',
        valueType: 'string',
        defaultValue: 'https://www.apple.com/startpage/',
        command: (value) => `defaults write com.apple.Safari HomePage -string "https://macinitiate.com"`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.0',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Sets Safari homepage to MacInitiate for quick access to setup tools.',
        lastVerified: '2024-02-07',
    },
    {
        id: 'enable-safari-show-favorites-bar',
        name: 'Show Safari Favorites Bar',
        description: 'Display favorites bar in Safari',
        category: TWEAK_CATEGORIES.safari,
        subcategory: 'ui',
        tags: ['safari', 'favorites', 'bookmarks', 'ui'],
        domain: 'com.apple.Safari',
        key: 'ShowFavoritesBar',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.Safari ShowFavoritesBar -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.10',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Shows the favorites bar in Safari for quick access to bookmarked sites.',
        lastVerified: '2024-02-08',
    },
    {
        id: 'disable-safari-show-sidebar',
        name: 'Hide Safari Sidebar',
        description: 'Hide bookmarks and reading list sidebar',
        category: TWEAK_CATEGORIES.safari,
        subcategory: 'ui',
        tags: ['safari', 'sidebar', 'bookmarks', 'ui'],
        domain: 'com.apple.Safari',
        key: 'ShowSidebarInTopSites',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write com.apple.Safari ShowSidebarInTopSites -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.10',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Hides the Safari sidebar for more screen space and cleaner interface.',
        lastVerified: '2024-02-08',
    },
    {
        id: 'enable-safari-show-tab-bar',
        name: 'Show Safari Tab Bar',
        description: 'Always show tab bar in Safari',
        category: TWEAK_CATEGORIES.safari,
        subcategory: 'ui',
        tags: ['safari', 'tabs', 'ui', 'navigation'],
        domain: 'com.apple.Safari',
        key: 'AlwaysShowTabBar',
        valueType: 'boolean',
        defaultValue: false,
        command: (value) => `defaults write com.apple.Safari AlwaysShowTabBar -bool ${value}`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.10',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'low',
        documentation: 'Always shows the tab bar in Safari even with only one tab open.',
        lastVerified: '2024-02-09',
    },
    {
        id: 'disable-safari-auto-play-videos',
        name: 'Disable Safari Auto Play Videos',
        description: 'Prevent videos from auto-playing in Safari',
        category: TWEAK_CATEGORIES.safari,
        subcategory: 'media',
        tags: ['safari', 'videos', 'auto-play', 'bandwidth'],
        domain: 'com.apple.Safari',
        key: 'WebKitMediaPlaybackAllowsInline',
        valueType: 'boolean',
        defaultValue: true,
        command: (value) => `defaults write com.apple.Safari WebKitMediaPlaybackAllowsInline -bool false`,
        requiresRestart: false,
        requiresSudo: false,
        minMacOSVersion: '10.12',
        compatibleArchitectures: ['arm64', 'x86_64'],
        safeToToggle: true,
        impactLevel: 'medium',
        documentation: 'Disables automatic video playback in Safari to save bandwidth and reduce distractions.',
        lastVerified: '2024-02-09',
    },
]

// Utility functions
export function searchTweaks(query: string): SystemTweak[] {
    const lowercaseQuery = query.toLowerCase()
    return SYSTEM_TWEAKS.filter(tweak =>
        tweak.name.toLowerCase().includes(lowercaseQuery) ||
        tweak.description.toLowerCase().includes(lowercaseQuery) ||
        tweak.tags.some(tag => tag.toLowerCase().includes(lowercaseQuery))
    )
}

export function getTweaksByCategory(categoryId: TweakCategoryId): SystemTweak[] {
    return SYSTEM_TWEAKS.filter(tweak => tweak.category.id === categoryId)
}

export function filterTweaks(tweaks: SystemTweak[], filters: TweakFilters): SystemTweak[] {
    return tweaks.filter(tweak => {
        if (filters.category && tweak.category.id !== filters.category) return false
        if (filters.impactLevel && tweak.impactLevel !== filters.impactLevel) return false
        if (filters.requiresRestart !== undefined && tweak.requiresRestart !== filters.requiresRestart) return false
        if (filters.requiresSudo !== undefined && tweak.requiresSudo !== filters.requiresSudo) return false
        if (filters.search) {
            const search = filters.search.toLowerCase()
            if (!tweak.name.toLowerCase().includes(search) &&
                !tweak.description.toLowerCase().includes(search) &&
                !tweak.tags.some(tag => tag.toLowerCase().includes(search))) {
                return false
            }
        }
        return true
    })
}

export function getTweakById(id: string): SystemTweak | undefined {
    return SYSTEM_TWEAKS.find(tweak => tweak.id === id)
}

export function generateTweakCommand(tweakId: string, value: boolean | string | number | null): string {
    const tweak = getTweakById(tweakId)
    if (!tweak) return ''
    return tweak.command(value)
}
